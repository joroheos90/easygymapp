{% extends "app/base.html" %}
 {% load customfilters %} {% block title %}Perfil{% endblock %} 
 {% block headerTitle %}Perfil{% endblock %} {% block headerButtons%}
<a
    href="{%if request.is_admin %}{% url 'app.users' %}{% else %}{%url 'app.home' %}{%endif %}"
    class="cursor-pointer text-lg font-normal"
>
    <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-6"
    >
        <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 19.5 8.25 12l7.5-7.5"
        />
    </svg>
</a>
{% endblock %} {% block content %}
<div class="flex flex-col gap-6 px-4 pb-24 relative py-6 font-roboto">
    {% if not user.has_paid %}
    <div
        class="fixed right-2 bottom-0 left-2 rounded-t-[12px] bg-red-600 p-4 text-center text-base font-bold text-white"
    >
        {% if request.is_member %} Querido miembro, tu pago esta vencido. {% else %} Su
        pago ha vencido, contáctalo. {% endif %}
    </div>
    {% endif %}
    <div class="flex w-full flex-col items-center gap-4">
        <div
            class="h-[120px] min-h-[120px] bg-blue-400 text-[50px] font-bold flex items-center justify-center w-[120px] min-w-[120px] rounded-full"
        >
            {{user.full_name|initials}}
        </div>
        <div class="flex w-full flex-col items-center gap-2">
            <h1 class="text-3xl capitalize text-center font-bold">{{user.full_name|lower}}</h1>
            {% if user.has_paid %}
            <h2 class="text-base text-center text-gray-500">
                Próximo pago {{user.next_payment_date}}
            </h2>
            {% else %}
            <h2 class="text-base text-center text-gray-500">
                Su pago venció el {{user.expired_on}}
            </h2>
            {% endif %}
        </div>
    </div>
    <div class="flex w-full flex-row gap-2">
        {% if request.is_admin %}
        <a
            href="{% url 'app.payment' %}?userid={{user.id}}"
            class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 text-green-500"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                />
            </svg>
            Pago
        </a>
        <a
            href="{% url 'app.edit'  %}?userid={{user.id}}"
            class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 text-green-500"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"
                />
            </svg>

            Editar
        </a>
        <a
        href="{% url 'app.nutrition_dashboard' %}?userid={{user.id}}"
            class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 text-green-500"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"
                />
            </svg>

            Pesaje
        </a>
        {% else %}
        <a
            href="{% url 'app.selector' %}"
            class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6 text-green-500"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"
                />
            </svg>
            Reservar
        </a>
        {% if user.has_measurements %}
            <a
            href="{% url 'app.nutrition_dashboard' %}?userid={{user.id}}"
                class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="size-6 text-green-500"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"
                    />
                </svg>

                Pesaje
            </a>
        {% else %}
                <a
                href="{% url 'app.edit'  %}"
                class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="size-6 text-green-500"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"
                    />
                </svg>

                Editar
            </a>
        {% endif %}
       
        <a
            href="{% url 'app.payments'  %}"
            class="flex w-1/3 cursor-pointer flex-col items-center gap-2 rounded-[8px] bg-white p-4 text-base font-normal shadow-sm"
        >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-green-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z" />
          </svg>
          

            Pagos
        </a>
      
        {% endif %}
    </div>
    <div class="flex flex-col gap-4">
        <div class="flex flex-col rounded-[8px] bg-white px-4">
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"
                        />
                    </svg>
                </div>
                <span
                    class="w-full border-b border-gray-300 py-3 text-base font-normal"
                    >Miembro: {{user.id}}</span
                >
            </div>
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9" />
                      </svg>
                      
                </div>
                <span
                    class="w-full border-b border-gray-300 py-3 text-base font-normal"
                    >Ingreso: {{user.join_date}}</span
                >
            </div>
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 8.25v-1.5m0 1.5c-1.355 0-2.697.056-4.024.166C6.845 8.51 6 9.473 6 10.608v2.513m6-4.871c1.355 0 2.697.056 4.024.166C17.155 8.51 18 9.473 18 10.608v2.513M15 8.25v-1.5m-6 1.5v-1.5m12 9.75-1.5.75a3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0 3.354 3.354 0 0 0-3 0 3.354 3.354 0 0 1-3 0L3 16.5m15-3.379a48.474 48.474 0 0 0-6-.371c-2.032 0-4.034.126-6 .371m12 0c.39.049.777.102 1.163.16 1.07.16 1.837 1.094 1.837 2.175v5.169c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 0 1 3 20.625v-5.17c0-1.08.768-2.014 1.837-2.174A47.78 47.78 0 0 1 6 13.12M12.265 3.11a.375.375 0 1 1-.53 0L12 2.845l.265.265Zm-3 0a.375.375 0 1 1-.53 0L9 2.845l.265.265Zm6 0a.375.375 0 1 1-.53 0L15 2.845l.265.265Z"
                        />
                    </svg>
                </div>
                <span
                    class="w-full border-b border-gray-300 py-3 text-base font-normal"
                    >Cumple: {{user.birth_date}}</span
                >
            </div>
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"
                        />
                    </svg>
                </div>
                <span class="w-full py-3 text-base font-normal"
                    >{{user.phone}}</span
                >
            </div>
        </div>
        <div class="flex flex-col rounded-[8px] bg-white px-4">
            {% if user.height_cm %}
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M8.25 6.75 12 3m0 0 3.75 3.75M12 3v18"
                        />
                    </svg>
                </div>
                <span
                    class="w-full border-b border-gray-300 py-3 text-base font-normal"
                    >Estatura: {{user.height_cm}} cm</span
                >
            </div>
            {% endif %}
            {% if user.sex %}
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                      </svg>
                      
                </div>
                <span
                    class="w-full  py-3 text-base font-normal"
                    >{{user.sex }} </span
                >
            </div>
            {% endif %}
        </div>
        {% if user.last_payment %}
        <div class="flex flex-col rounded-[8px] bg-white px-4">
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                        />
                    </svg>
                </div>
                <span
                    class="w-full border-b border-gray-300 py-3 text-base font-normal"
                    >Ultimo pago: {{user.last_payment.paid_at}}</span
                >
            </div>
            <div class="flex flex-row items-center">
                <div class="w-[35px]">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="size-5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M6.75 2.994v2.25m10.5-2.25v2.25m-14.252 13.5V7.491a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v11.251m-18 0a2.25 2.25 0 0 0 2.25 2.25h13.5a2.25 2.25 0 0 0 2.25-2.25m-18 0v-7.5a2.25 2.25 0 0 1 2.25-2.25h13.5a2.25 2.25 0 0 1 2.25 2.25v7.5m-6.75-6h2.25m-9 2.25h4.5m.002-2.25h.005v.006H12v-.006Zm-.001 4.5h.006v.006h-.006v-.005Zm-2.25.001h.005v.006H9.75v-.006Zm-2.25 0h.005v.005h-.006v-.005Zm6.75-2.247h.005v.005h-.005v-.005Zm0 2.247h.006v.006h-.006v-.006Zm2.25-2.248h.006V15H16.5v-.005Z"
                        />
                    </svg>
                </div>
                <span class="w-full py-3 text-base font-normal"
                    >Periodo: {{user.last_payment.period_paid_label}}</span
                >
            </div>
        </div>
        {% endif %}

        {% if request.is_admin %}
        <div
            class="flex items-center justify-center rounded-[8px] bg-white py-2 shadow-sm mt-4"
        >
            <a
                href="{% url 'app.payments'%}?userid={{user.id}}"
                class="cursor-pointer font-normal text-blue-500 text-left"
            >
                Ver sus pagos
            </a>
        </div>
        {% endif %}
        {% if not request.is_admin and user.has_measurements %}
        <div
            class="flex items-center justify-center rounded-[8px] bg-white py-2 shadow-sm mt-4"
        >
            <a
                href="{% url 'app.edit'  %}"
                class="cursor-pointer font-normal text-blue-500 text-left"
            >
                Editar
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
