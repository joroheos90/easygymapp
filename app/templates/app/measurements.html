{% extends "app/base.html" %}

{% block title %}medidas{% endblock %}
{% block headerTitle %}Medidas{% endblock %}

{% block headerButtons %}
<a
    href="{% url 'app.admin' %}"
    class="cursor-pointer text-lg font-normal"
>
    <svg xmlns="http://www.w3.org/2000/svg"
        fill="none" viewBox="0 0 24 24"
        stroke-width="1.5" stroke="currentColor"
        class="size-6">
        <path stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 19.5 8.25 12l7.5-7.5" />
    </svg>
</a>

{% if request.is_admin %}
<a
    href="{% url 'app.measurement' %}"
    class="cursor-pointer text-lg font-bold text-blue-500"
>
    Agregar
</a>
{% endif %}
{% endblock %}

{% block content %}
<div class="font-roboto flex flex-col gap-6 px-4 py-6">

    <h1 class="text-xl font-semibold">Cat√°logo de medidas</h1>

    <div class="flex flex-col gap-2">
        {% for definition in definitions %}
        <a
            href="{% url 'app.measurement' %}?measurementId={{definition.id}}"
            class="flex w-full cursor-pointer flex-row items-center justify-between border-b border-gray-400 py-2"
        >
            <div class="flex w-2/4 flex-col">
                <span class="text-base capitalize font-medium">
                    {{ definition.name }}
                </span>
                <span class="text-xs capitalize text-gray-500">
                    medida
                </span>
            </div>

            <div class="flex w-1/4 flex-col items-center">
                <span class="text-base font-medium">
                    {{ definition.get_unit_type_display }}
                </span>
                <span class="text-xs text-gray-500">
                    Unidad
                </span>
            </div>

            <div class="flex w-1/4 flex-col items-end">
                <span class="text-xs
                    {% if definition.is_required %}
                        text-green-600
                    {% else %}
                        text-gray-500
                    {% endif %}
                ">
                    {% if definition.required %}
                        Requerida
                    {% else %}
                        Opcional
                    {% endif %}
                </span>
            </div>
        </a>
        {% empty %}
        <div class="text-sm text-gray-500 py-4 text-center">
            No hay medidas configuradas
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}
